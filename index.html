<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini App Example</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>

        @font-face {
            font-family: Archive Ukr;
            src: url(ArchiveUkr.ttf);
        }
        .main {
            background-color: #ffffff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
        }

        .elipse {
            position: relative;
            display: inline-block;
            justify-content: center;

        }
        .btn_grid{
        }
        .buttons{
            display: flex;
            justify-content: space-between;
            gap:20%;
        }

        button{
            background-color: #A099F6;
            color: white;
            width:40%;
            flex: 1 0 auto;
            padding:0 10px;
            border: 0px solid;
            border-radius: 10px;
        }

        .person {
            position: absolute;
            left: 50%;
            top:30%;
            transform: translate(-50%, -50%); /* Центрирует точно по центру */
        }

        .person img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        .text{
            font-family: Archive Ukr;
        }
    </style>
</head>
<body>
    <div id="mainApp" class="main">
        <div class="elipse">
            <div>
                <img src="Ellipse 6.svg" alt="Ellipse"/>
                <img class="person" src="freepik__pixel-art-fulllength-child-wearing-a-unicorn-hat-o__30059 1.svg" alt="Person"/>
            </div>
            <div class="btn_grid">
                <div class="buttons">
                    <button class="text" onclick="showModal()">Дружелюбие</button>
                    <button class="text" onclick="showModal()">Интеллект</button>
                </div>
                <div class="buttons">
                    <button class="text" onclick="showModal()">Активность</button>
                    <button class="text" onclick="showModal()">Личностный рост</button>
                </div>
            </div>
            <button class="text" onclick="showModal()">Творчество</button>
            <span id="user-data"></span>
        </div>


    </div>

    <script>
        const tg = window.Telegram.WebApp;
        document.getElementById('user-data').textContent = tg.initDataUnsafe.user ? tg.initDataUnsafe.user.first_name : 'Неизвестно';
        tg.expand();

        const tasks = {
          "Дружелюбие": {"1": "Задание 1"},
          "Интеллект": {"1": "Задание 1"},
          "Активность": {"1": "Задание 1"},
          "Личностный рост": {"1": "Задание 1"},
          "Творчество": {"1": "Задание 1"}
        };

        // Функция модалки
        function showModal(category) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position:fixed;top:0;left:0;width:100%;height:100%;
                background:rgba(0,0,0,0.5);z-index:9999;display:flex;
                justify-content:center;align-items:center;
            `;

            modal.innerHTML = `
                <div style="
                    background:white;border-radius:15px;width:90%;max-height:80%;
                    padding:20px;overflow:auto;
                ">
                    <h3>${category}</h3>
                    <div>${tasks[category] ? Object.keys(tasks[category])[0] : 'Нет заданий'}</div>
                    <button onclick="this.parentElement.parentElement.remove()"
                        style="margin-top:20px;padding:10px;background:#A099F6;color:white;border:none;border-radius:10px;">
                        Закрыть
                    </button>
                </div>
            `;

            document.body.appendChild(modal);
            modal.onclick = (e) => e.target === modal && modal.remove();
        }

        // Обработчики
        document.querySelectorAll('button.text').forEach(button => {
            const category = button.textContent.trim();
            button.onclick = () => showModal(category);
        });
        </script>


</body>
</html>
